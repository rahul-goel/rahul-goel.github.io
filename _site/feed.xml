<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.2.0">Jekyll</generator><link href="rahul-goel.github.io/feed.xml" rel="self" type="application/atom+xml" /><link href="rahul-goel.github.io/" rel="alternate" type="text/html" /><updated>2021-07-24T18:00:21+05:30</updated><id>rahul-goel.github.io/feed.xml</id><title type="html">rahul-goel.github.io</title><subtitle>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</subtitle><entry><title type="html">Line Drawing Algorithms and a Neural Approximation</title><link href="rahul-goel.github.io/graphics/machine-learning/2021/07/21/line-drawing.html" rel="alternate" type="text/html" title="Line Drawing Algorithms and a Neural Approximation" /><published>2021-07-21T00:00:00+05:30</published><updated>2021-07-21T00:00:00+05:30</updated><id>rahul-goel.github.io/graphics/machine-learning/2021/07/21/line-drawing</id><content type="html" xml:base="rahul-goel.github.io/graphics/machine-learning/2021/07/21/line-drawing.html">&lt;p&gt;I was studying line drawing algorithms and then had an idea to replace the best
algorithm with a neural network. This long post contains an explanation of the
basic algorithms and the process I went through to mimick the best algorithm.&lt;/p&gt;

&lt;p&gt;So I coded up three line drawing algorithms that I read on
&lt;a href=&quot;https://en.wikipedia.org/wiki/Line_drawing_algorithm&quot;&gt;Wikipedia&lt;/a&gt;. Let’s start
from the most basic one.&lt;/p&gt;

&lt;h2 id=&quot;naive-algorithm&quot;&gt;Naive Algorithm&lt;/h2&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-cpp&quot; data-lang=&quot;cpp&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vector&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vector&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;naive&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;assert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ZWIDTH&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;assert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x2&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ZWIDTH&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;assert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ZHEIGHT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;assert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y2&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ZHEIGHT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

	&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;swap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;swap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

	&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vector&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vector&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;HEIGHT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vector&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;WIDTH&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;static_cast&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
		&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;yy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;static_cast&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;color_square&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;yy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;We iterate over the $x$ coordinate and calculate the $y$ using the gradient. We
round down the point to it’s pixel and fill the pixel with white.&lt;/p&gt;

&lt;p&gt;Unfortunately, this algorithm does not work well in all the cases. Often it
leaves gaps in the lines depending upon whether the slope is greater than 1 or
not in magnitude.&lt;/p&gt;

&lt;h2 id=&quot;dda-algorithm&quot;&gt;DDA Algorithm&lt;/h2&gt;

&lt;p&gt;This algorithm improves on the previous algorithm but accounting for all the cases.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-cpp&quot; data-lang=&quot;cpp&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vector&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vector&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dda&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;swap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;swap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

	&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;step&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fabs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fabs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;dx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;step&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;dy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;step&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vector&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vector&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;HEIGHT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vector&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;WIDTH&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;step&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;static_cast&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
		&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;static_cast&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;color_square&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;We iterate over the larger of $\triangle X$ and $\triangle Y$ and calculate the
$x$ and $y$ coorinates on the fly using gradient. We round down the point to
it’s pixel and fill the pixel.&lt;/p&gt;

&lt;p&gt;Although, we get a connected line, the line appears jagged in a lot of
cases.&lt;/p&gt;

&lt;h2 id=&quot;xiaolin-wus-line-algorithm&quot;&gt;Xiaolin Wu’s Line Algorithm&lt;/h2&gt;

&lt;p&gt;The lines drawn by the previous two algorithms are not smooth. They are jagged.
If we zoom out or see the image from a distance, the line won’t appear smooth
at all.&lt;/p&gt;

&lt;p&gt;When two pixels of the image diagonal to each other are bright, then the pixel
sharing edges with these two bright pixels should be slightly bright too for
the smoothness. This is called anti-aliasing. The question now becomes that
which pixels should be given brightness and how much brightness should they be
given. This calcualtion problem is solved by this algorithm.&lt;/p&gt;

&lt;p&gt;The following is the code for it. The pseudocode has been given on Wikipedia. I
merely converted it to C++.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-cpp&quot; data-lang=&quot;cpp&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vector&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vector&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wu&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;kt&quot;&gt;bool&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;steep&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;abs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;abs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;steep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;swap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;swap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;swap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;swap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

	&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gradient&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gradient&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vector&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vector&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;HEIGHT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vector&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;WIDTH&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;

	&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;yend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xgap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;c1&quot;&gt;// handle first endpoint&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;xend&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;yend&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gradient&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xend&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;xgap&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rfpart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xpxl1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ypxl1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;yend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

	&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;steep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;color_square&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ypxl1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xpxl1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;static_cast&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rfpart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;yend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xgap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;color_square&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ypxl1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xpxl1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;static_cast&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fpart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;yend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xgap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;color_square&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xpxl1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ypxl1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;static_cast&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rfpart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;yend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xgap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;color_square&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xpxl1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ypxl1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;static_cast&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fpart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;yend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xgap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;intery&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;yend&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gradient&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;c1&quot;&gt;// handle second endpoint&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;xend&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;yend&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gradient&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xend&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;xgap&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rfpart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xpxl2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ypxl2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;yend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

	&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;steep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;color_square&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ypxl2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xpxl2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;static_cast&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rfpart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;yend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xgap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;color_square&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ypxl2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xpxl2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;static_cast&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fpart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;yend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xgap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;color_square&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xpxl2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ypxl2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;static_cast&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rfpart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;yend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xgap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;color_square&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xpxl2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ypxl2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;static_cast&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fpart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;yend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xgap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

	&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;steep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xpxl1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xpxl2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;color_square&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;intery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;static_cast&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rfpart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;intery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;color_square&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;intery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;static_cast&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fpart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;intery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;intery&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;intery&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gradient&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xpxl1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xpxl2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;color_square&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;intery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;static_cast&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rfpart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;intery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;color_square&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;intery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;static_cast&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fpart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;intery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;intery&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;intery&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gradient&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Let us not worry about the case when the line is steep as of now (steep means
$\mid \frac{\triangle Y}{\triangle X} \mid \gt 1$).&lt;/p&gt;

&lt;p&gt;Assuming $\mid \frac{\triangle Y}{\triangle X} \mid \le 1$, we walk more along
the X-axis and less along the Y-axis for our line drawing algorithm. This means
that if in our loop we iterate over the values of X, then we can gain finer
control over the drawing process since the resolution in X-direction is more.&lt;/p&gt;

&lt;p&gt;We first draw the two endpoints beforehand and then using the algorithm fill
the gaps between the two points.&lt;/p&gt;

&lt;p&gt;We initiate our $x$ and $y$ to the smaller of the two points (comparison by
$X$) and then increment $x$ one by one in a loop till the value reaches the
other endpoint. For each iteration we increment the $y$ value by
$\frac{\triangle Y}{\triangle X}$ which accounts for one unit of increase in
$x$.&lt;/p&gt;

&lt;p&gt;The value $y$ is a fraction and the exact point $y$ lies somewhere in a pixel.
Let $f = y - \lfloor y \rfloor$ and $rf = 1 - f$ i.e. they are the fractional
and the remaining fractional part of $y$. We assign the pixel $(x, \lfloor y
\rfloor)$ brightness corresponding to $rf$ and the pixel just below it $(x,
\lfloor y \rfloor + 1)$ brightness corresponding to $f$. Here, 1 means fully
white and 0 means fully black.&lt;/p&gt;

&lt;p&gt;Let’s look at why this assignment makes sense.  The actual value $y$ lies
somewhere between $\lfloor y \rfloor$ and $\lfloor y \rfloor + 1$ i.e. it lies
somewhere in the pixel belonging to $(x, \lfloor y \rfloor)$. This means that
part of the line corresponding to $rf$ size lies in the pixel and does it
should get brightness corresponding to that value.&lt;/p&gt;

&lt;p&gt;For example, assume $y = 4.25$. The pixel $(2, 4)$ actually holds all the
values of $y$ from $y \in [4, 5)$. Since, our algorithm gave us the point $y =
4.25$ after adding the gradient, the region of the line from $4.25$ to
$4.9999999$ belongs to the pixel. Thus $rf$ should be the brightness value.&lt;/p&gt;

&lt;p&gt;Now, the case for the steep slope is similar to in every way to the discussed
case. It’s just that we iterate over $y$ for higher resolution and we add the
inverse of the gradient.&lt;/p&gt;

&lt;h2 id=&quot;comparison-of-the-three-algorithms&quot;&gt;Comparison of the three algorithms&lt;/h2&gt;

&lt;p&gt;Image generated by the naive algorithm.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/line_drawing/naive.png&quot; alt=&quot;naive&quot; title=&quot;naive&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Image generated by the DDA algorithm.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/line_drawing/dda.png&quot; alt=&quot;dda&quot; title=&quot;dda&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Image generated by Xiaolin Wu’s DDA algorithm.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/line_drawing/wu.png&quot; alt=&quot;wu&quot; title=&quot;wu&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Open the images and zoom on them to see the differences.&lt;/p&gt;

&lt;h2 id=&quot;neural-network-line-drawing&quot;&gt;Neural Network Line Drawing&lt;/h2&gt;

&lt;p&gt;I wanted to know whether we can replace the entire Xiaolin Wu’s Algorithm with
a neural network because why not.&lt;/p&gt;

&lt;h3 id=&quot;data-generation&quot;&gt;Data Generation&lt;/h3&gt;

&lt;p&gt;Initially, I planned the Neural Network directly to output the image when I
give line coordinates so I generated images by applying Xiaolin Wu’s Algorithm
on randomly chosen points on a 2 dimensional plane with each coordinate in the
range $(0, 100)$. I generated 1000 such images to train on in ppm format since
it is easiest to deal with this format programmatically. The format though is a
highly inefficient one since it stores the values for each pixel directly. I
then used the linux &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;convert&lt;/code&gt; tool by ImageMagick to convert them into &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;png&lt;/code&gt;
which reduced the size of the dataset by a lot by compression since most pixel
values were just black.&lt;/p&gt;

&lt;p&gt;The code for image generation is below. The function &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wu&lt;/code&gt; is covered later and
the function &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;write_image&lt;/code&gt; just writes the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ppm&lt;/code&gt; image. I chose size 100 x 100
for the image so that the neural network does not get too big.&lt;/p&gt;

&lt;p&gt;The input data is read from the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;coordinates.txt&lt;/code&gt; file for the neural network.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-cpp&quot; data-lang=&quot;cpp&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;random_device&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mt19937&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;());&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uniform_real_distribution&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;static_cast&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;WIDTH&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;

	&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rfname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;coordinates.txt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ofstream&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;recordfile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;recordfile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rfname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

	&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
		&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
		&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
		&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;recordfile&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot; &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot; &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot; &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;endl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;auto&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;image&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wu&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;write_image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;.ppm&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;strategy-1---fully-connected-network-with-every-pixel-as-an-output&quot;&gt;Strategy 1 - Fully Connected Network with every pixel as an output.&lt;/h3&gt;

&lt;p&gt;I took a fully connected neural network and with 4 inputs and 10000 outputs.
The inputs correspond to the x and y coordinates of two points in range (0,
100) which define the endpoints of the line. The outputs correspond to the
pixels of a 100 x 100 square image.
I tried out different number of layers - the minimum being 4 and the maximum
being 12. I tried different sizes for these layers. I tried gradual increase in
sizes and bottleneck architecture.&lt;/p&gt;

&lt;p&gt;I trained the network for 5 epochs on the 1000 images that I generated. The
error was not decreasing.&lt;/p&gt;

&lt;p&gt;The best result I obtained with the lowest validation error is given below. The
left image is the graph plotted by Wu’s Algorithm for a given pair of points
and the right image is the neural network’s output image for the same set of
points.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/line_drawing/spiderweb_og.png&quot; alt=&quot;fcn spiderweb_og output&quot; title=&quot;fcn spiderweb_og output&quot; /&gt;
&lt;img src=&quot;/assets/line_drawing/spiderweb.png&quot; alt=&quot;fcn spiderweb output&quot; title=&quot;fcn spiderweb output&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Nothing like a straight line, I know. But it is somewhat beautiful.&lt;/p&gt;

&lt;h3 id=&quot;strategy-2---fully-connected-network-transitioning-into-a-deconvolutional-network&quot;&gt;Strategy 2 - Fully Connected Network transitioning into a DeConvolutional Network&lt;/h3&gt;

&lt;p&gt;I had to read up on deconvolutional nerural networks and their architecture
since I wanted to expand the output size with progression of layers.&lt;/p&gt;

&lt;p&gt;So I took a deep FCN of about 5-6 layers, rolled up the output into a 2-D
kernel and added a series of deconvolutional layers or transposed convolutional
layers to increment the size of the image.&lt;/p&gt;

&lt;p&gt;I tried different channel sizes and different layers in both the FCN and the
DCNN. But the results always remained as follows for every input.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/line_drawing/noise.png&quot; alt=&quot;noisy output&quot; title=&quot;noisy output&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Sheer noise.&lt;/p&gt;

&lt;h3 id=&quot;strategy-3---try-adding-positional-encoding&quot;&gt;Strategy 3 - Try adding Positional Encoding&lt;/h3&gt;

&lt;p&gt;So while reading the NeRF series of papers I came across this concept of
encoding the inputs in a different format to take them to a higher dimension to
help learning of high frequency functions since Neural Networks are not so good
at learning high frequency functions.&lt;/p&gt;

&lt;p&gt;Every image is basically a signal (like sound). And the image signal is called
high frequency when they gradient of the image is high. The gradient of the
image is the difference between the adjacent pixels. So if the image is
changing its pixel colours suddenly, then it is high frequency and neural
networks are not good at approximating high freuqency functions with lower
dimensional input.&lt;/p&gt;

&lt;p&gt;So we take the input value $x$ and encode it into the different values
$\sin(2^0 \pi x), \sin(2^1 \pi x), \sin(2^2 \pi x) \dots$ and so on. The idea
is that some linear combination of these sine functions can approximate a
higher order function and thus take our input to a higher dimension which can
help the neural network to quickly approximate a high frequency function which
would otherwise require several layers.&lt;/p&gt;

&lt;p&gt;So I added this input encoding to the first two methods but sadly the result
did not change at all. I think there was been a change but it was too feeble to
notice.&lt;/p&gt;

&lt;h3 id=&quot;strategy-4---neural-network-with-pixel-coordinates-as-input-and-brightness-as-output--positional-encoding&quot;&gt;Strategy 4 - Neural Network with Pixel Coordinates as input and Brightness as output + Positional Encoding&lt;/h3&gt;

&lt;p&gt;These ideas were not working and were too complex. For a simple thing such as
drawing a line, the network must be also be simple. So I went with a slightly
different approach.&lt;/p&gt;

&lt;p&gt;Now the neural network is such that it takes, the 2 points as input which
define the line to be drawn. It also takes $(i, j)$, the pixel coordinates as
the input. The output of the network is a single value supposedly in the range
$[0, 255]$ which defines the brightness of the pixel.&lt;/p&gt;

&lt;p&gt;I trained this on my original dataset of the images that I created. The error
was quite small and I thought that this would work out.&lt;/p&gt;

&lt;p&gt;But unfortunately, during testing the resultant image formed by querying this
neural network for each pixel in a 100 x 100 image was completely black. A
complete black image will always have a very small error sine the line drawn
takes up very small fraction of pixels. After training for multiple epochs too,
the function was not converging to give a lower error.&lt;/p&gt;

&lt;p&gt;After much thinking I realised that for this particular architecture of neural
network the dataset was heavily skewed. The ratio of black pixels to white
pixels more than $1000 : 1$.&lt;/p&gt;

&lt;p&gt;So I needed to come up with a datset which had comparable amount of black
pixels and non-black pixels. Extracting this from the existing data would have
been time consuming and heavily inefficient so I decided to remake the dataset
which I cover in the next section.&lt;/p&gt;

&lt;p&gt;I kept the ratio of black pixels to non-black pixels exactly $2 : 1$.&lt;/p&gt;

&lt;p&gt;The results were the best obtained so far. The left images are the images from Wu’s Algorihm. The images on the right are from the Neural Network Queries. Both of them have the same input.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/line_drawing/best_og_1.png&quot; alt=&quot;best_og_1&quot; title=&quot;best_og_1&quot; /&gt;
&lt;img src=&quot;/assets/line_drawing/best_nn_1.png&quot; alt=&quot;best_nn_1&quot; title=&quot;best_nn_1&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/line_drawing/best_og_2.png&quot; alt=&quot;best_og_2&quot; title=&quot;best_og_2&quot; /&gt;
&lt;img src=&quot;/assets/line_drawing/best_nn_2.png&quot; alt=&quot;best_nn_2&quot; title=&quot;best_nn_2&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/line_drawing/best_og_3.png&quot; alt=&quot;best_og_3&quot; title=&quot;best_og_3&quot; /&gt;
&lt;img src=&quot;/assets/line_drawing/best_nn_3.png&quot; alt=&quot;best_nn_3&quot; title=&quot;best_nn_3&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/line_drawing/best_og_4.png&quot; alt=&quot;best_og_4&quot; title=&quot;best_og_4&quot; /&gt;
&lt;img src=&quot;/assets/line_drawing/best_nn_4.png&quot; alt=&quot;best_nn_4&quot; title=&quot;best_nn_4&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/line_drawing/best_og_5.png&quot; alt=&quot;best_og_5&quot; title=&quot;best_og_5&quot; /&gt;
&lt;img src=&quot;/assets/line_drawing/best_nn_5.png&quot; alt=&quot;best_nn_5&quot; title=&quot;best_nn_5&quot; /&gt;&lt;/p&gt;

&lt;p&gt;So I finally added positional encoding to check if any change occurs.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/line_drawing/bestpos_og_1.png&quot; alt=&quot;bestpos_og_1&quot; title=&quot;bestpos_og_1&quot; /&gt;
&lt;img src=&quot;/assets/line_drawing/bestpos_nn_1.png&quot; alt=&quot;bestpos_nn_1&quot; title=&quot;bestpos_nn_1&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/line_drawing/bestpos_og_2.png&quot; alt=&quot;bestpos_og_2&quot; title=&quot;bestpos_og_2&quot; /&gt;
&lt;img src=&quot;/assets/line_drawing/bestpos_nn_2.png&quot; alt=&quot;bestpos_nn_2&quot; title=&quot;bestpos_nn_2&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The lines got much thicker. And for smaller lines the output did not look like a line. So the model without positional encoding performed better.&lt;/p&gt;

&lt;h3 id=&quot;new-dataset-generation&quot;&gt;New Dataset Generation&lt;/h3&gt;

&lt;p&gt;Rather than using the existing dataset in an inefficient manner, I remade the
dataset according to the new requirement.&lt;/p&gt;

&lt;p&gt;For each randomly generated pair of points, I took all the non-black pixels
that come in the image in the dataset. And I also took twice this number of
random black pixels for the same coordinate pair. This mean that the ratio of
black to non-black pixels in the dataset is $2 : 1$ which is comparable to each
other.&lt;/p&gt;

&lt;p&gt;The code for the generation of the data is given below.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-cpp&quot; data-lang=&quot;cpp&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vector&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;differentdata&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vector&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vector&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vector&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;HEIGHT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;WIDTH&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
				&lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;push_back&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
						&lt;span class=&quot;k&quot;&gt;static_cast&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;static_cast&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;static_cast&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])});&lt;/span&gt;
			&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
		&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

	&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;not_black&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;not_black&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rand&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;HEIGHT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;j&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rand&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;WIDTH&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;push_back&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
					&lt;span class=&quot;k&quot;&gt;static_cast&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;static_cast&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;static_cast&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])});&lt;/span&gt;
		&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;random_device&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mt19937&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;());&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uniform_real_distribution&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;static_cast&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;WIDTH&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;

	&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rfname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;data.txt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ofstream&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;recordfile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;recordfile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rfname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;recordfile&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fixed&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;setprecision&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

	&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
		&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
		&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
		&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;auto&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;image&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wu&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;auto&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to_write&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;differentdata&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;auto&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;oo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to_write&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;val&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;oo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;recordfile&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;val&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;recordfile&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;endl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
		&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The pixel data is kept in a single file in which each row contains 7 values:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;4 values to describe the endpoints&lt;/li&gt;
  &lt;li&gt;2 values to describe the pixel coordinate&lt;/li&gt;
  &lt;li&gt;1 value to describe the brightness of the pixel&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><category term="graphics" /><category term="machine-learning" /><summary type="html">I was studying line drawing algorithms and then had an idea to replace the best algorithm with a neural network. This long post contains an explanation of the basic algorithms and the process I went through to mimick the best algorithm.</summary></entry><entry><title type="html">Six of Crows Duology</title><link href="rahul-goel.github.io/books/2021/06/22/six-of-crows-duology.html" rel="alternate" type="text/html" title="Six of Crows Duology" /><published>2021-06-22T11:20:29+05:30</published><updated>2021-06-22T11:20:29+05:30</updated><id>rahul-goel.github.io/books/2021/06/22/six-of-crows-duology</id><content type="html" xml:base="rahul-goel.github.io/books/2021/06/22/six-of-crows-duology.html">&lt;p&gt;I actually wanted to read Six of Crows. People all over the internet said that
Six of Crows Duology is much better than the Shadow and Bone Trilogy and that
one could directly read Six of Crows Duology without even bothering with Shadow
and Bones Trilogy. After reading all this on the internet, I knew that if I
read the Six of Crows Duology first, I wouldn’t have enjoyed the Shadow and
Bones Trilogy so I read that first. And then I read Six of Crows. As of now
(while writing this particular paragraph in this blog), I have only read the
first book of the duology that is Six of Crows and I’ll write my thoughts about
that. I’ll finish this blog after reading the second book and append my
thoughts.&lt;/p&gt;

&lt;h2 id=&quot;six-of-crows&quot;&gt;Six of Crows&lt;/h2&gt;

&lt;p&gt;The first time I read the title of this book somewhere on the internet, I
thought it would be some horror story with scarecrows.&lt;/p&gt;

&lt;p&gt;The story is perfect. The characters are perfect. The book is perfect. It is
better than any movie that involves some kind of heist. The writing style is so
good. I like books written in the third person more. But this book took it to
the next level by writing from the perspective of the characters in every new
chapter. At first, I thought that the chapters are named after the characters
but when the names were repeated in new chapters, I realised that the writing
has been done from the mentioned character’s perspective. The flashbacks into
the history of the characters and the continuation of the history from another
character’s perspective are so smooth (Nina and Matthias, Kaz and Inej).&lt;/p&gt;

&lt;h3 id=&quot;kaz-brekker&quot;&gt;Kaz Brekker&lt;/h3&gt;

&lt;p&gt;He came to the city with his big brother when his father had died. He saw his
big brother die in front of him due to Pekka Rollins. And now he lives to give
Pekka the death he deserves. &lt;em&gt;Brick by brick.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;He lives by his principles. He is a friend to all his gang but if you betray
him, he is not going to show you mercy. He is not going to “show” it.  But he
is going to be merciful. He appears to be the badass and he is too but I’m sure
he is kind at heart (will probably see this in the second book). He let Big
Bolliger think that he is letting him bleed to death but later he asked his
people to make sure he survives and leaves the city. That was the first hint
towards the person he is inside. He wears an armour to shield his inner self
from the people around him and to protect them and him. He is similar to Will
from The Infernal Devices. He has his own history and secrets which make him
behave the way he does. And even though we’ve found out a lot of his history,
I’m sure a lot of it remains to found out in the second book and it will be
more than enough to justify his behaviour with others.&lt;/p&gt;

&lt;p&gt;And he’s a mastermind. Always ten steps ahead of his enemy. Double-crossing the
double-crossers. He did not share the entire plan he had for the heist because
he never does. Telling the plan to others means a chance of leaks and he
doesn’t risk it. And he proves his skills by breaching the most protected area
in the world.&lt;/p&gt;

&lt;p&gt;He cares for Inej. Just doesn’t want to show it. I know there are reasons
behind it - one could be for her own protection. And we read how that turned
out. The moment Van Ek saw Kaz chancing a glance at Inej, he took her. And then
he said one of the most badass lines of the entire book. I don’t remember it
but it was something like “I won’t let him take my money. I won’t let him take
my girl.”&lt;/p&gt;

&lt;p&gt;And lastly, he carries a cane due to his limp. A cane made by Fabricators with
a crow for the handle. How cool is that? And the cane is all he needs. He knows
the right spots to hit with the cane - the spots for making one numb, for
making one faint, or for making one die.&lt;/p&gt;

&lt;h3 id=&quot;inej-ghafa&quot;&gt;Inej Ghafa&lt;/h3&gt;

&lt;p&gt;The Spider for The Dregs. What an amazing character. She was kidnapped from her
parents by pirates and sold to one of the brothels of the city where she was
treated poorly. Then Kaz came to the rescue. Kaz had not heard her approach him
even when she had all those “rining jewels” on. And that had been the only time
he hadn’t heard her approach. He had asked Per Haskell to buy her contract from
the brothel and trained her to be the spy for The Dregs. Her movements are so
smooth and silent when she’s running across rooftops. She’s basically the
Assasin from Assasin’s Creed.&lt;/p&gt;

&lt;p&gt;And she likes Kaz. She doesn’t like liking Kaz but she can’t help it. I really
love how she deals with Kaz asking her not to leave. “I will have you without
your armour Kaz, or I won’t have you at all.”&lt;/p&gt;

&lt;h3 id=&quot;nina-zenik&quot;&gt;Nina Zenik&lt;/h3&gt;

&lt;p&gt;She might be my favourite character in the book (I am still confused between
Kaz and her). She is the only trained Grisha in the group and though her
training is in Heartrendering, she helps out the entire group with whatever
healing she knows of. She saved Inej when Inej was fatally hurt. And not to say
she saved every one of them by consuming &lt;em&gt;jurda parem&lt;/em&gt; and giving up her own
life (I hope she doesn’t die in the second book because of the addiction). And
one can’t speak of her without speaking of Matthias. The whole history between
her and Matthias was mind-blowing. It was she who changed the beast that
Matthias had become into the boy that he internally was. And her journey with
Matthias after the shipwreck is my favourite part of the book - the little
taunts and teases melting Matthias’s heart. And I knew that there had to be a
reason why she gave Matthias to the Kerch authorities and I believe that it was
justified. She had seen the Fjerdan &lt;em&gt;drüskelle&lt;/em&gt; and she had seen how Ravkans
treated the Fjerdans. And there was no way she was going to hand either one of
them to the other. And what she did was the best possible move.  And I think
Matthias too came to accept the fact that there was no other way out though he
hasn’t admitted it.&lt;/p&gt;

&lt;p&gt;I hope the &lt;em&gt;jurda parem&lt;/em&gt; doesn’t do anything to her in the next book.&lt;/p&gt;

&lt;h3 id=&quot;matthias-helvar&quot;&gt;Matthias Helvar&lt;/h3&gt;

&lt;p&gt;Whatever he does is again justified if we look at the things from his
perspective. His parents were &lt;em&gt;drüskelle&lt;/em&gt;. He did not know whether it was a bad
thing or a good thing to be a &lt;em&gt;drüskelle&lt;/em&gt;. He had only seen his parents getting
killed by Grisha. Later it was Jarl Brum who had fueled the fire within him and
had made him think that Grisha weren’t humans, that they had powers that did
not belong to this earth. He and his friends were powerless common humans and
seeing some alien-ish power destroy their family would of course have gotten to
him.&lt;/p&gt;

&lt;p&gt;In the ship that they had captured the Grisha, he had unknowingly helped Nina
survive by giving her a bucket of water. And giving her the water itself had
been an act of kindness for which he would have served a punishment had he
gotten caught.&lt;/p&gt;

&lt;p&gt;And everything from the shipwreck to him ending up in Hellgate had been him
softening slowly just because of Nina. He liked her and admitted that he hated
himself for liking her.&lt;/p&gt;

&lt;p&gt;And when he was sent to Hellgate and had come to know of what Nina had done
without knowing why she had done it, his will to kill her was absolutely
justified. He thought that she had double-crossed him and all those weeks of
travel had been just an act and that she was always the witch that he had
thought her to be.&lt;/p&gt;

&lt;p&gt;But Nina has stayed for him. She could have left for Ravka but she stayed for
him and her presence and justifications for her acts throughout the heist had
brought him back to his real self once again. The presence of Nina had brought
him to his real self once again.&lt;/p&gt;

&lt;h3 id=&quot;jesper-fahey&quot;&gt;Jesper Fahey&lt;/h3&gt;

&lt;p&gt;Jesper is the funny guy of the gang. When the situation is tensed, he is the
one who relieves everyone by cracking a joke. Not to say about his incredible
skills with a gun in his hand. Kaz might not trust Jesper but he always trusts
his sharpshooting skills.&lt;/p&gt;

&lt;p&gt;The bad thing about him is his habit of gambling. He is in debt from every
casino in the Barrel. And it is these debts that drive him most towards the
heist. I don’t like that he has lied to his hard-working father (who is a
farmer) about him being in some university studying while all he does is shoot
for The Dregs and gamble whatever money he has.&lt;/p&gt;

&lt;p&gt;Even though he always taunts Wylan, he defends him in the final encounter with
Van Eck and throughout the book, there are moments where he appreciates Wylan’s
skills for the crew. Wylan was always mistreated by his father and Jesper is a
great brotherly figure for him.&lt;/p&gt;

&lt;h3 id=&quot;wylan-eck&quot;&gt;Wylan Eck&lt;/h3&gt;

&lt;p&gt;The final reveal about him was confusing for me. He can draw and sketch well
but cannot read and write. His disability to read and write is the reason that
his father has abandoned him. Then how can he solve mathematical equations? It
would have been good if things were written from his perspective too (since he
was the only character among the six of them to not have anything written from
his perspective).&lt;/p&gt;

&lt;p&gt;Also, there was some conversation with Jesper in which he asked something like
“Why only girls?” or something like that. I think it is a hint that he might be
gay. And if he is gay then he might not look at Jesper like a brotherly figure.
So a lot of things have been left out in this part of the story and hopefully,
the second book will throw more light in this direction.&lt;/p&gt;

&lt;p&gt;Anyway, Wylan was an important character. He helped in the heist by being the
insurance for the money (though it did not work out) and his sketches and the
bombs he made helped them escape a couple of times.&lt;/p&gt;

&lt;p&gt;Later on, Nina under the influence of &lt;em&gt;jurda parem&lt;/em&gt; tailored his appearance to
match the Kuwei and the change might be permanent. I hope it isn’t permanent
though since Jesper doesn’t like it.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;And that is a wrap for the first book. I might not be able to write what I felt
about the characters like this again for the second book. So maybe I’ll record
my thoughts after each chapter like I attempted to do with The Mortal
Instruments. I cannot wait to read The Crooked Kingdom.&lt;/p&gt;

&lt;h2 id=&quot;crooked-kingdom&quot;&gt;Crooked Kingdom&lt;/h2&gt;

&lt;p&gt;Yeah so I decided writing out my thoughts just after each chapter would be a
good idea to manitain the flow and re-read it anytime later to look back at how
I felt about the story.&lt;/p&gt;

&lt;h3 id=&quot;chapter-1&quot;&gt;Chapter 1&lt;/h3&gt;

&lt;p&gt;So Retvenko is a Squaller going for a voyage from Ketterdam to gain some money
which he can use to return to Ravka. But a couple of Shu people (most probably
Grisha under the influence of &lt;em&gt;jurda parem&lt;/em&gt;) abduct him. Most likely, it is
under Van Eck’s orders. Maybe he is trying to build an army of Grisha soldiers
with extraordinary powers with the help of &lt;em&gt;jurda parem&lt;/em&gt;.&lt;/p&gt;

&lt;h3 id=&quot;chapter-2&quot;&gt;Chapter 2&lt;/h3&gt;

&lt;p&gt;We’re back in business with the heist. This chapter is written from Wylan’s
perspective. They are stalling Cornelis Smeet to stay at the gambling den so
that Kaz and Wylan can search his house for documents. Smeet is Van Eck’s
lawyer and has all the information on his public and private properties - that
is the possible locations of Inej. Nina is using her charms while Jesper is
gambling his guns to stall him (I hope he doesn’t lose them). Anyway, it is
mentioned twice that Nina has recovered from her addiction (not clearly
mentioned but I hope so that’s the case). Kaz says he has figured out the
location from their search. The encounter between Kaz and Smet’s daughter was
amazing.&lt;/p&gt;

&lt;h3 id=&quot;chapter-3&quot;&gt;Chapter 3&lt;/h3&gt;

&lt;p&gt;So the collision between Kaz and Smeet was to plant the whistle back in Smeet’s
possession. Typical Kaz. All of them are now there in the cemetery planning
their next move. Kuwei wants to go to Ravka but Kaz insists upon the Southern
Colonies. No one can stop Kaz from getting what he wants. Kaz is so bitter to
Kuwei (I mean he is the same way to everyone else too). I know that all he
wants is to protect the boy but still. My respect goes out to Muzzen. No
mourners. No funerals. I was wondering at the end of the first book that what
had happened to him. The Shus, the Fjerdan’s, the people from Novyi Zem and
whatnot are all after Kaz and Kuwei. And Jesper’s father turns up? I hope he is
not harmed.&lt;/p&gt;

&lt;h3 id=&quot;chapter-4&quot;&gt;Chapter 4&lt;/h3&gt;

&lt;p&gt;Woah. A lot of things happened with Inej. She was brought to someplace by Van
Eck where she is being held captive. There’s a guy called Bajan who looks after
her meals and well-being. He is Suli like her and is nothing but kind to her.
But Inej doesn’t admire his kindness since he is working for Van Eck and all of
it could easily be an act - working with Kaz she has learned the ways of the
Barrel and of Ketterdam. And most of her doesn’t believe that Kaz will come to
rescue her but there’s one small part that is still hopeful.&lt;/p&gt;

&lt;h3 id=&quot;chapter-5&quot;&gt;Chapter 5&lt;/h3&gt;

&lt;p&gt;Jesper goes to the university with Wylan by his side to meet his father.  There
is a huge contrast between the Barrell and the area around the university. We
get to know some of Jesper’s history. He had come to one of the gambling dens
with his new friends from the university for a night of fun but had failed to
turn back towards the gambling dens since then. As soon as he exchanges
greetings with his father, they get ambushed by some gang (multiple gangs?) and
have to run for their lives through a secret passage that Wylan accidentally
knows of.&lt;/p&gt;

&lt;h3 id=&quot;chapter-6&quot;&gt;Chapter 6&lt;/h3&gt;

&lt;p&gt;So Jesper’s &lt;em&gt;Da&lt;/em&gt; is brought to their hideout where they all back Jesper against
his father by saying that Jesper and they were misled into this situation by
someone and they are trying their best to make it right. Kaz assures Jesper’s
father that he will set everything alright within three days. Since this
chapter is from Nina’s perspective, we gain details of what happened to her
after her first dose of &lt;em&gt;parem&lt;/em&gt;. She hasn’t completely recovered. There are
phases when she craves it and wants to kill anyone denying her &lt;em&gt;parem&lt;/em&gt; and she
hates herself for her behaviour and her inability to control. There’s a moment
when she realises that Jesper is the only one with a family and wishes if
Jesper’s &lt;em&gt;Da&lt;/em&gt; could become a fatherly figure for all of them and take them all
away somewhere far from Ketterdam. This is much relatable to real life. Anyway,
they are approaching the location where Inej is kept and Nina uses some unknown
power to kill the guards (while she was trying her best to just silence them).&lt;/p&gt;

&lt;h3 id=&quot;chapter-7&quot;&gt;Chapter 7&lt;/h3&gt;

&lt;p&gt;Comparatively a small chapter. Inej is brought back to the theater room where
Jan Van Eck is going to question her and she is going to stall him. Van Eck
tells her that he has gained information that Kaz and his gang would be
striking their hideout that day to rescue Inej. But Kaz had something else in
mind altogether. While bashing his own son, Jan Van Eck had given away the
knowledge about his young wife and his heir gestating inside her. Kaz had
struck there and kidnapped his pregnant wife. An informant informed them about
this in the theater and the look on Inej’s face, her inability to stop laughing
alone was worth all the trouble Kaz went through. A note had been left for Van
Eck stating just the time and place to perform the exchange.&lt;/p&gt;

&lt;h3 id=&quot;chapter-8&quot;&gt;Chapter 8&lt;/h3&gt;

&lt;p&gt;Matthias is the main character in this chapter. And he unfolds Kaz’s plan to
the reader. When Van Eck had let the intel about his wife slip, Kaz had clung
on to it. The plan was obvious to him. All the protection would be near Inej to
guard her. He would strike where the guard is less. He had searched Smeet’s
house for Van Eck’s wife’s location, not Inej’s. And they had done the job. It
had gone smoothly save for one casualty of a guard due to Nina. They were now
preparing for the exchange of Inej with Alys (the wife). Also, everyone finds
Alys irritating but I quite like her. And there had been a moment where Kaz had
warned Wylan by pushing him to the wall and sticking his cane to Wylan’s
throat. I hated Kaz for that moment.&lt;/p&gt;

&lt;h3 id=&quot;chapter-9&quot;&gt;Chapter 9&lt;/h3&gt;

&lt;p&gt;This one is from Kaz’s perspective and is all about the exchange of assets
between the two parties. They exchange on a bridge full of tourists dressed as
characters from Komedie Brute. However, Jan Van Eck tries another trick. He
brings &lt;em&gt;stadwatch&lt;/em&gt; with him and upon receiving his wife, asks Kaz loudly for
his son Wylan. He acts as if Kaz had kidnapped his family for ransom. But Kaz
was prepared. With the help of Wylan’s flash bombs and the characters of
Komedie Brute he arranged, he creates commotion and manages to camouflage with
Inej in it. But all of them hear a loud explosion in the House of White Rose.
Kaz thinks some external forces are getting involved. However, I think Nina
could have been the cause of it although I hope she wasn’t.&lt;/p&gt;

&lt;h3 id=&quot;chapter-10&quot;&gt;Chapter 10&lt;/h3&gt;

&lt;p&gt;The explosion in the House of White Rose had been by those winged Shu people we
read about in the first chapter. They were hunting Grisha there. Nina,
Matthias, Jesper, and Wylan were escaping the commotion when they got spotted
by the flying Shu people. They wanted Nina. Wylan created a distraction and
they escaped but one of the Shu people got hold of Nina. Nina managed a close
shot to the skull of the hunter since shots on the rest of the body were futile
and then they ran for their lives.&lt;/p&gt;

&lt;h3 id=&quot;chapter-11&quot;&gt;Chapter 11&lt;/h3&gt;

&lt;p&gt;Kaz and Inej stay at their hideout till night and then return to the cemetery.
The time they spend at the hideout is typical Kaz-Inej small talk. It’s Inej
asking reasonably hopeful questions and Kaz reluctantly reminding her that she
was a great investment. They go back to the cemetery and everyone is just so
happy to see Inej back. Now, Kaz unveils his far-fetched master plan involving
climbing twenty-story-high silos and creating a sugar shortage so that his
recently bought shares of sugar go up to thirty million &lt;em&gt;kruge&lt;/em&gt;. Why is Inej
fussing about nets? It’s precautionary and not that Kaz doesn’t trust her
skills. Now, due to Nina and Inej’s condition to save the Grisha of the city,
Kaz has to worry about several more points of possible failure. One important
point to be noted is that Kaz specifically chose their hideout location near
the silos just so that Inej can get a look at the terrain. Does this man even
breathe without thinking twice?&lt;/p&gt;

&lt;h3 id=&quot;chapter-12&quot;&gt;Chapter 12&lt;/h3&gt;

&lt;p&gt;Kaz and Inej head out to intercept Per Haskell on his way home to assure him
that they are on his side. I don’t like how Kaz has to lick up to Per Haskell
all the time. The scene where Per Haskell demands Inej and she disappears was
hilarious. Inej goes alone to spy on Van Eck by tricking Kaz since Kaz wanted
to accompany her. Kaz’s reply to Inej when she asked him whether he would have
come for her if her legs were broken was not the complete truth. He would have
come for her but the reason was not limited to her being a part of his crew.&lt;/p&gt;

&lt;h3 id=&quot;chapter-13&quot;&gt;Chapter 13&lt;/h3&gt;

&lt;p&gt;Nina and Matthias leave for Little Ravka in Ketterdam to inform the remaining
Grisha about their secret departure. Most of the chapter is them flirting with
each other which is kind of getting repetitive. Nina tells him a story about a
Fjerdan and a Ravkan Princess and that they fall in love in the third book.
This might be a hint by the author indicating the possibility of a third book
in this series since the story is analogous to the story of Matthias and Nina.
They are in a restaurant in Little Ravka when they are attacked (by Zoya?) and
saved by Zoya. Yes, Zoya from Shadow and Bone trilogy. Finally a crossover. Now
I have one more character to root for. Also, there was something about Nina
controlling bones. I did not exactly understand it.&lt;/p&gt;

&lt;h3 id=&quot;chapter-14&quot;&gt;Chapter 14&lt;/h3&gt;

&lt;p&gt;Jan Van Eck is a terrible creature. If Kaz doesn’t manage to get him tortured
to death, I will dive into the book and ensure that myself. I am ready to take
any punishment by the Merchant Council. Wylan and Jesper head towards the
region where Kaz believes Wylan’s mother was buried (deducted from the
documents at Smeet’s house). Wylan lies to Kaz and says that only that region
offers the supply of material for his inventions. However, they are available
anywhere and he just wanted to see his mother’s grave. He and Jesper head
towards Van Eck’s property to see that his mother is alive and is being held in
an asylum. It is unknown whether she was mentally ill or became ill after
coming there. She doesn’t recognize Wylan because of his appearance. She has
loads and loads of paintings of Wylan and the surrounding scenery. From the
little talk Wylan had with his mother, he thinks Van Eck seized his mother’s
property and put her in the asylum.&lt;/p&gt;

&lt;h3 id=&quot;chapter-15&quot;&gt;Chapter 15&lt;/h3&gt;

&lt;p&gt;Zoya’s there and Genya’s there too. Two of my favourite people from the Shadow
and Bone Trilogy. They reluctantly make a deal with Matthias and Nina regarding
the rescue of the remaining Grisha. Most of the chapter is about Matthias and
Nina kissing. I mean it could have been a little less … descriptive. Then
there is history about Matthias and his wolf and more of how Nina had behaved
on the ship struggling from her addiction of &lt;em&gt;jurda parem&lt;/em&gt; kicking in. Finally
it is now that Nina is feeling better and hungry. Was it her using the new form
of power? Was it Matthias’ kiss? Or was it just time? We don’t know what healed
her. There is a WANTED poster about Matthias with a reward of fifty thousand
&lt;em&gt;kruge&lt;/em&gt;. Lmao. As if that is something to worry about that the moment.&lt;/p&gt;

&lt;h3 id=&quot;chapter-16&quot;&gt;Chapter 16&lt;/h3&gt;

&lt;p&gt;Kaz is amazing. He knew about Wylan’s mother and he knew Wylan lied about the
supplies and he wanted Wylan to meet his mother and know the truth.&lt;/p&gt;

&lt;p&gt;So there are WANTED posters for everyone except Nina (since Van Eck hasn’t
spotted her yet with the group). But this isn’t even the least of their
concerns. They all chitchat about their future plans and one by one leave for
the action of the night. Only Jesper, Kuwei, and Matthias remain since they
have some time left. They discuss about &lt;em&gt;jurda parem&lt;/em&gt;. Then there is a long
description of Jesper’s life back at Novyi Zem. His mother was a Grisha and she
had helped her village in every possible way. &lt;em&gt;Blessed&lt;/em&gt;. They had called her.
Jesper and his parents were living happily. It was his mother who had taught
him to shoot. &lt;em&gt;Anyone can shoot. But not everyone can aim.&lt;/em&gt; And she had died
trying to save the life of a little girl in her village, extracting poison from
her body but not knowing what it was doing to her own. Jesper remembered her
mother using the stalks of &lt;em&gt;jurda&lt;/em&gt; to counteract the effect of &lt;em&gt;jurda&lt;/em&gt; pollen.
Kuwei finds this interesting and this might be the possible lead on making the
antidote for &lt;em&gt;jurda parem&lt;/em&gt;. A windowpane is shattered and they have unexpected
company.&lt;/p&gt;

&lt;h3 id=&quot;chapter-17&quot;&gt;Chapter 17&lt;/h3&gt;

&lt;p&gt;This chapter is so beautifully written. It covers a lot of Inej’s history - how
she gained her skills. But there’s a lot more to it. The situation of crossing
the silos is being compared to her training and her past. The sugar reminds her
of a man back in the Menagerie - it’s terrible but it’s beautiful.&lt;/p&gt;

&lt;p&gt;So Nina and Inej make past the guards and Inej climbs up to the top of the silo
and uses the weevin. She crosses over to the second silo and puts weevin there
too. But throughout, there are flashbacks of her past. Her father training her.
Her performances as a part of the circus. The one time she fell because of the
nets. Her life at the Menagerie (It is disgusting how the men treated her). And
Kaz. Kaz at the Ferolind. &lt;em&gt;I will have you without armour&lt;/em&gt;. She knows how Kaz
feels about her. But she also knows Kaz not expressing it is the best for both
of them. Or is it? Someone grabs her from behind and shoves her down!? No one
could have dared to climb to the top. Unless you did not need to climb. It
could be the flying Shu people but we don’t know yet.&lt;/p&gt;

&lt;h3 id=&quot;chapter-18&quot;&gt;Chapter 18&lt;/h3&gt;

&lt;p&gt;Kaz is breaking into the Van Eck house once again but this time with Wylan.
Their job is to retrieve the Van Eck seal that can be used to attest the orders
for the Grisha to escape. Kaz has a big brother talk with Wylan about his
	inability to read. They break the safe using Wylan’s auric acid and get the
	seal but are interrupted in their job by Pekka Rollins.&lt;/p&gt;

&lt;h3 id=&quot;chapter-19&quot;&gt;Chapter 19&lt;/h3&gt;

&lt;p&gt;Matthias, Jesper, and Kuwei were interrupted by the Dime Lions. They somehow
have managed to back down their location. They escape out only because of
Matthias. Jesper and Kuwei are in shock to even think straight but Matthias
takes command of the situation and helps them escape out.&lt;/p&gt;

&lt;h3 id=&quot;chapter-20&quot;&gt;Chapter 20&lt;/h3&gt;

&lt;p&gt;Up there on the silos, Inej faces her interruptor. It is Dunyasha, a girl with
skills just like Inej’s but better at every one of them. She has also been sent
by Pekka Rollins. Inej is easily overpowered by her and is sent down from the
tightrope across the silos but there are no nets.&lt;/p&gt;

&lt;h3 id=&quot;chapter-21&quot;&gt;Chapter 21&lt;/h3&gt;

&lt;p&gt;It is revealed that Pekka Rollins has been working with Van Eck. Kaz has to
escape the house with Wylan when the house is surrounded by the stadwatch and
the Dime Lions. Kaz spills the highly corrosive auric acid on the flor to
escape and is now worried about her Wraith.&lt;/p&gt;

&lt;h3 id=&quot;chapter-22&quot;&gt;Chapter 22&lt;/h3&gt;

&lt;p&gt;Nina’s job was to signal to Inej from below the silos. However, the Dime Lions
show up in the uniforms of the stadwatch. They are looking for Nina. They
attack her but she doesn’t have the power of a Heartrenderer anymore. She has a
new power that even doesn’t know of. She can control the dead. She raises the
dead bodies from the boats that she had spotted with Inej and it is this army
that saves her and Inej too by opening a net just in time to capture her fall.
All of this is super weird (controlling the dead). Even Nina mentions it. It is
unlike regular Grisha power.&lt;/p&gt;

&lt;h3 id=&quot;chapter-23&quot;&gt;Chapter 23&lt;/h3&gt;

&lt;p&gt;Wylan’s history is presented in most of this chapter. He had been looking for
employment in the Barrell and was hired by a dye manufacturer who took
advantage of his chemistry skills but didn’t pay him. Kaz had heard about him
and had sent Jesper to hire him to become a demo for the Dregs. They all go to
Jesper’s Da’s hotel for shelter and don’t know what to do next. Kuwei requests
them to hand him over since he thinks he isn’t worth all the trouble. But Kaz
says that if there should be someone who is surrendered it should be him. Kaz
and Jesper have a fistfight that starts due to this. However, they don’t fight
to kill since none of them use their weapons.&lt;/p&gt;

&lt;h3 id=&quot;chapter-24&quot;&gt;Chapter 24&lt;/h3&gt;

&lt;p&gt;Inej and Jesper have a moment. Jesper talks with his Da. All that is fine. But
Jesper starts kissing Kuwei thinking that Kuwei is Wylan. And he gets spotted
by Wylan. No wonder Kaz thinks Jesper is always the one who screws up things.&lt;/p&gt;

&lt;h3 id=&quot;chapter-25&quot;&gt;Chapter 25&lt;/h3&gt;

&lt;p&gt;Either I am too dumb or Kaz is some genius who is talking of things out of this
world. Kaz explains his final master plan involving &lt;em&gt;jurda&lt;/em&gt; and Ravkans and
Kuwei being auctioned and whatnot. But I cannot make anything of it. I don’t
understand it at all. I read it twice and how it is going to work, I do not
know. But I trust Kaz and his brain.&lt;/p&gt;

&lt;h3 id=&quot;chapter-26&quot;&gt;Chapter 26&lt;/h3&gt;

&lt;p&gt;Okay. Okay. Okay. This one is about Kaz and Inej and what happened in the
bathroom. I know how it sounds this way but it isn’t actually like that. Kaz,
after tremendous effort changed Inej’s bandages while all the time struggling
to wipe the memory of his dead brother away from his mind. And then with all
the effort he could muster, he brushed his lips once against Inej. That’s it. I
said it. Done. I’m here for the story mainly and not for the romance.&lt;/p&gt;

&lt;h3 id=&quot;chapter-27&quot;&gt;Chapter 27&lt;/h3&gt;

&lt;p&gt;She follows Kaz to the Slat. Most of the Dregs there have forgotten their roots
and are against Kaz. Kaz appears in front of Per Haskell, beats a few lads,
gets beaten by the rest, makes his speech, convinces the Dregs to stick with
him, and throws Per Haskell off his throne.&lt;/p&gt;

&lt;h3 id=&quot;chapter-28&quot;&gt;Chapter 28&lt;/h3&gt;

&lt;p&gt;Nikolai has come as Sturmhond. It’s Zoya, Genya, and Nikolai that are there in
Ketterdam. David would have stayed back. I don’t know who has a sharper bin -
Nikolai or Kaz. Genya tailors back Wylan’s face and he and Jesper kiss.&lt;/p&gt;

&lt;h3 id=&quot;chapter-29&quot;&gt;Chapter 29&lt;/h3&gt;

&lt;p&gt;Jesper’s Da acts like some businessman named Johannus Rietveld (Kaz had done
transactions with his old last name Rietveld and Jordie’s middle name
Johannus). He had some meetings arranged at the hotel. Jan Van Eck showed up
and made a deal with him. I don’t understand it. It is all a part of Kaz’s
great plan. That last line by Nina to Van Eck is sick. “Only a fool would cross
Kaz.”&lt;/p&gt;

&lt;h3 id=&quot;chapter-30&quot;&gt;Chapter 30&lt;/h3&gt;

&lt;p&gt;Sturmhond is forced to reveal his identity to Kaz because of Kaz’s suspicion.
Kaz denies Jesper’s request of &lt;em&gt;jurda parem&lt;/em&gt; as a security measure. There is
history about Kaz and his gloves - how he had tried to get rid of them and
failed, how we acquired the title &lt;em&gt;Dirtyhands&lt;/em&gt;. Kaz and Nina go to a mortuary
for something that isn’t revealed yet.&lt;/p&gt;

&lt;h3 id=&quot;chapter-31&quot;&gt;Chapter 31&lt;/h3&gt;

&lt;p&gt;Wylan and Jesper’s Da are at their new hideout upon Kaz’s instructions where
they are caught by the Dime Lions who take Wylan to Jan Van Eck. There, he gets
beaten by the capturers and is forced to spill the plan out.&lt;/p&gt;

&lt;h3 id=&quot;chapter-32&quot;&gt;Chapter 32&lt;/h3&gt;

&lt;p&gt;Inej climbs up the place of auction and sits at the top where she belongs. She
witnesses the start of the auction and the price of Kuwei rises up to more than
a hundred million &lt;em&gt;kruge&lt;/em&gt;. The auction is interrupted by the Council of Tides
(they are showing themselves after 25 years). At the same time, Inej is
disturbed by Dunyasha.&lt;/p&gt;

&lt;h3 id=&quot;chapter-33&quot;&gt;Chapter 33&lt;/h3&gt;

&lt;p&gt;This is the chapter of the biggest plot twist in the book. The Council of Tides
accuses Jan Van Eck of signing a deal with Johannus Rietvald for funds which
was against the law of the auction. The Dime Lions who had taken Wylan were
Kaz’s men and Wylan had fed wrong information to Jan Van Eck to give him a
false sense of security. The Council of Merchants unfurl Jan Van Eck’s history
by putting two and two together and accuse him of that. Meanwhile, the
long-unused sirens start wailing in the city - the sirens that were last used
more than seven years ago for the deadly Queen’s Lady Plague.&lt;/p&gt;

&lt;h3 id=&quot;chapter-34&quot;&gt;Chapter 34&lt;/h3&gt;

&lt;p&gt;It was Nina who had unleashed the so-called plague. From the mortuary, she had
taken dead, black cells and planted and spread them from several locations in
the city. She was able to do all of this because of her new power - the power
to control anything dead.&lt;/p&gt;

&lt;h3 id=&quot;chapter-35&quot;&gt;Chapter 35&lt;/h3&gt;

&lt;p&gt;Inej and Dunyasha, meanwhile, finish their fight at the roof of the church.
Inej won only because she had spent years on these rooftops and was careful
enough to avoid a loose piece of woodwork. She needed to find Jesper so that he
could kill Kuwei!? Was this Kaz’s final plan? To make use of Kuwei to get the
money and finish him off for the greater good?&lt;/p&gt;

&lt;h3 id=&quot;chapter-36&quot;&gt;Chapter 36&lt;/h3&gt;

&lt;p&gt;Jesper and Inej find each other but the situation inside the church is
completely chaotic. But Jesper still takes his shot. He might have realised (as
Wylan had told him) that his shots are so accurate because unintentionally
curves the bullets using his Fabrikator powers. This might have been the first
time he used it knowingly. However, it is still unclear.&lt;/p&gt;

&lt;h3 id=&quot;chapter-37&quot;&gt;Chapter 37&lt;/h3&gt;

&lt;p&gt;Kaz is trying to leave but is blocked by Rollins. Being the quick-wit he is, he
plays a nice little trick on Rollins by telling him that his son is buried
alive somewhere and he has only one chance to save him. There is some drama
between the two and then Rollins leaves to save his son (which Kaz never even
seen). Also, Kaz had let out the false plague on three of Rollin’s places and
the Menagerie - the places he wanted out of business.&lt;/p&gt;

&lt;h3 id=&quot;chapter-38&quot;&gt;Chapter 38&lt;/h3&gt;

&lt;p&gt;Kuwei isn’t dead. It’s a fake bullet. Kaz had injected a sedative to lower his
pulse. They escape out with the “corpse” of Kuwei and everyone is fine and all
but at some point, Matthias is alone and is encountered by a young &lt;em&gt;druskelle&lt;/em&gt;
from the Fjerdan Council who accuses him of treason and then shoots him!?&lt;/p&gt;

&lt;h3 id=&quot;chapter-39&quot;&gt;Chapter 39&lt;/h3&gt;

&lt;p&gt;Kuwei is revived by Zoya and her abilities and the Ravkans depart with him. But
Matthias is dead. He makes it to Nina and has his last words with her (well,
more than just a few words) and then dies. He could have been easily saved by
Genya or Zoya who were present there minutes ago. But I guess he had to be
killed off since he wasn’t suited at any place. He couldn’t go back to Fjerda,
couldn’t live in Ketterdam and he didn’t want to go to Ravka.&lt;/p&gt;

&lt;h3 id=&quot;chapter-40&quot;&gt;Chapter 40&lt;/h3&gt;

&lt;p&gt;Wow, a four-line chapter.&lt;/p&gt;

&lt;h3 id=&quot;chapter-41&quot;&gt;Chapter 41&lt;/h3&gt;

&lt;p&gt;This one is about what happened after the chaos at the church. It’s just Wylan
and his father arguing and Wylan reciting a memorised text to prove that he can
read.&lt;/p&gt;

&lt;h3 id=&quot;chapter-42&quot;&gt;Chapter 42&lt;/h3&gt;

&lt;p&gt;They all say their goodbyes to Matthias and each other. Nina decides to go with
the Grisha and then later bury Matthias’ body up North in the Fjerdan ice.
Jesper’s Da leaves for his farms. Jesper stays back to help Wylan with his
house. The Council of Tides that interrupted the auction wasn’t real, it was
the bunch of Grishas that were under hiding in Ketterdam. Kaz and his plans are
amazing.&lt;/p&gt;

&lt;h3 id=&quot;chapter-43&quot;&gt;Chapter 43&lt;/h3&gt;

&lt;p&gt;This one portrays Kaz as the boss of the Crow Club going around doing his
business. The plague he created was harmless but it would take a few months to
settle down. He is also encountered by a member of the real Council of Tides
but the exchange between them is insignificant.&lt;/p&gt;

&lt;h3 id=&quot;chapter-44&quot;&gt;Chapter 44&lt;/h3&gt;

&lt;p&gt;I forgot to mention it before. Somewhere above, Kaz had paid for Inej’s
contract to free her. Inej meets Kaz upon his request one morning and finds a
ship called &lt;em&gt;The Wraith&lt;/em&gt; at the harbour. Kaz had bought it from Wylan. And he
had also asked Sturmhond (Nikolai) to look for Inej’s real family in Ravka and
send them to Ketterdam on a visit and it was that morning that they were
arriving.&lt;/p&gt;

&lt;h3 id=&quot;chapter-45&quot;&gt;Chapter 45&lt;/h3&gt;

&lt;p&gt;Pekka is somewhere away from Ketterdam in a safe place with his family. He is
visited by Inej one night who warns him about nothing in general. It just makes
Pekka realise that Kaz Brekker is not the person to mess with and decides not
to return to Ketterdam.&lt;/p&gt;

&lt;hr /&gt;

&lt;hr /&gt;

&lt;p&gt;This was tough. It took a long time to write it all out for each chapter. It
was tough to pick up my pen and write when I waned to continue reading the book
to find out what happened next. It is evident too I believe since the
descriptions become small towards the end of the book. The time I spend writing
it all out, could have been used for reading some other book. I’ll most
probably never attempt doing this again but who know what will happen in the
future.&lt;/p&gt;</content><author><name></name></author><category term="books" /><summary type="html">I actually wanted to read Six of Crows. People all over the internet said that Six of Crows Duology is much better than the Shadow and Bone Trilogy and that one could directly read Six of Crows Duology without even bothering with Shadow and Bones Trilogy. After reading all this on the internet, I knew that if I read the Six of Crows Duology first, I wouldn’t have enjoyed the Shadow and Bones Trilogy so I read that first. And then I read Six of Crows. As of now (while writing this particular paragraph in this blog), I have only read the first book of the duology that is Six of Crows and I’ll write my thoughts about that. I’ll finish this blog after reading the second book and append my thoughts.</summary></entry><entry><title type="html">Markup Formatting using gq</title><link href="rahul-goel.github.io/vim/2021/06/12/vim-markup.html" rel="alternate" type="text/html" title="Markup Formatting using gq" /><published>2021-06-12T00:00:00+05:30</published><updated>2021-06-12T00:00:00+05:30</updated><id>rahul-goel.github.io/vim/2021/06/12/vim-markup</id><content type="html" xml:base="rahul-goel.github.io/vim/2021/06/12/vim-markup.html">&lt;p&gt;It had been such a pain to format lines when I was writing Latex/Markdown/HTML.  Since single line breaks are ignored, we can write all that we have to in a single line or multple lines. Writing in a single line always makes it tough to read later in a text editor. Since sentences are broken in between words and you have to move your eyes all across the screen. And if you want to use multiple lines, it is tough to decide where to break the lines manually. If you follow the 79 character limit, it is again hard to keep track of the characters.&lt;/p&gt;

&lt;p&gt;But with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gq&lt;/code&gt; family of commands in vim, now I write everything in a single line and then run the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gqq&lt;/code&gt; key bind to autoformat the text into multiple lines. One can also write in any haphazard manner in multiple lines and then visually select them and run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gq&lt;/code&gt; to format them again. By default it follows the 79 character limit but it can be changed in the vimrc.&lt;/p&gt;

&lt;p&gt;It is a command every Vim user should use to simplify writing markup text anywhere.&lt;/p&gt;

&lt;p&gt;Below is this blog written in markdown in Vim - first without the formatting and then with the formatting.&lt;/p&gt;

&lt;div&gt;
&lt;pre id=&quot;vimCodeElement&quot;&gt;
&lt;span id=&quot;L1&quot; class=&quot;LineNr&quot;&gt;1 &lt;/span&gt;&lt;span class=&quot;Special&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;Title&quot;&gt; Markup Formatting using &lt;/span&gt;&lt;span class=&quot;Special&quot;&gt;`&lt;/span&gt;gq&lt;span class=&quot;Special&quot;&gt;`&lt;/span&gt;
&lt;span id=&quot;L2&quot; class=&quot;LineNr&quot;&gt;2 &lt;/span&gt;
&lt;span id=&quot;L3&quot; class=&quot;LineNr&quot;&gt;3 &lt;/span&gt;It had been such a pain to format lines when I was writing Latex/Markdown/HTML.  Since single line breaks are ignored, we can write all that we have to in a single line or multple lines. Writing in a single line always makes it tough to read later in a text editor. Since sentences are broken in between words and you have to move your eyes all across the screen. And if you want to use multiple lines, it is tough to decide where to break the lines manually. If you follow the 79 character limit, it is again hard to keep track of the characters.
&lt;span id=&quot;L4&quot; class=&quot;LineNr&quot;&gt;4 &lt;/span&gt;
&lt;span id=&quot;L5&quot; class=&quot;LineNr&quot;&gt;5 &lt;/span&gt;But with the &lt;span class=&quot;Special&quot;&gt;`&lt;/span&gt;gq&lt;span class=&quot;Special&quot;&gt;`&lt;/span&gt; family of commands in vim, now I write everything in a single line and then run the &lt;span class=&quot;Special&quot;&gt;`&lt;/span&gt;gqq&lt;span class=&quot;Special&quot;&gt;`&lt;/span&gt; key bind to autoformat the text into multiple lines. One can also write in any haphazard manner in multiple lines and then visually select them and run &lt;span class=&quot;Special&quot;&gt;`&lt;/span&gt;gq&lt;span class=&quot;Special&quot;&gt;`&lt;/span&gt; to format them again. By default it follows the 79 character limit but it can be changed in the vimrc.
&lt;span id=&quot;L6&quot; class=&quot;LineNr&quot;&gt;6 &lt;/span&gt;
&lt;span id=&quot;L7&quot; class=&quot;LineNr&quot;&gt;7 &lt;/span&gt;It is a command every Vim user should use to simplify writing markup text anywhere.
&lt;span id=&quot;L8&quot; class=&quot;LineNr&quot;&gt;8 &lt;/span&gt;
&lt;span id=&quot;L9&quot; class=&quot;LineNr&quot;&gt;9 &lt;/span&gt;Below is this same blog written in Vim
&lt;/pre&gt;

&lt;pre id=&quot;vimCodeElement&quot;&gt;
&lt;span id=&quot;L1&quot; class=&quot;LineNr&quot;&gt; 1 &lt;/span&gt;&lt;span class=&quot;Special&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;Title&quot;&gt; Markup Formatting using &lt;/span&gt;&lt;span class=&quot;Special&quot;&gt;`&lt;/span&gt;gq&lt;span class=&quot;Special&quot;&gt;`&lt;/span&gt;
&lt;span id=&quot;L2&quot; class=&quot;LineNr&quot;&gt; 2 &lt;/span&gt;
&lt;span id=&quot;L3&quot; class=&quot;LineNr&quot;&gt; 3 &lt;/span&gt;It had been such a pain to format lines when I was writing Latex/Markdown/HTML.
&lt;span id=&quot;L4&quot; class=&quot;LineNr&quot;&gt; 4 &lt;/span&gt;Since single line breaks are ignored, we can write all that we have to in a
&lt;span id=&quot;L5&quot; class=&quot;LineNr&quot;&gt; 5 &lt;/span&gt;single line or multple lines. Writing in a single line always makes it tough to
&lt;span id=&quot;L6&quot; class=&quot;LineNr&quot;&gt; 6 &lt;/span&gt;read later in a text editor. Since sentences are broken in between words and
&lt;span id=&quot;L7&quot; class=&quot;LineNr&quot;&gt; 7 &lt;/span&gt;you have to move your eyes all across the screen. And if you want to use
&lt;span id=&quot;L8&quot; class=&quot;LineNr&quot;&gt; 8 &lt;/span&gt;multiple lines, it is tough to decide where to break the lines manually. If you
&lt;span id=&quot;L9&quot; class=&quot;LineNr&quot;&gt; 9 &lt;/span&gt;follow the 79 character limit, it is again hard to keep track of the
&lt;span id=&quot;L10&quot; class=&quot;LineNr&quot;&gt;10 &lt;/span&gt;characters.
&lt;span id=&quot;L11&quot; class=&quot;LineNr&quot;&gt;11 &lt;/span&gt;
&lt;span id=&quot;L12&quot; class=&quot;LineNr&quot;&gt;12 &lt;/span&gt;But with the &lt;span class=&quot;Special&quot;&gt;`&lt;/span&gt;gq&lt;span class=&quot;Special&quot;&gt;`&lt;/span&gt; family of commands in vim, now I write everything in a single
&lt;span id=&quot;L13&quot; class=&quot;LineNr&quot;&gt;13 &lt;/span&gt;line and then run the &lt;span class=&quot;Special&quot;&gt;`&lt;/span&gt;gqq&lt;span class=&quot;Special&quot;&gt;`&lt;/span&gt; key bind to autoformat the text into multiple
&lt;span id=&quot;L14&quot; class=&quot;LineNr&quot;&gt;14 &lt;/span&gt;lines. One can also write in any haphazard manner in multiple lines and then
&lt;span id=&quot;L15&quot; class=&quot;LineNr&quot;&gt;15 &lt;/span&gt;visually select them and run &lt;span class=&quot;Special&quot;&gt;`&lt;/span&gt;gq&lt;span class=&quot;Special&quot;&gt;`&lt;/span&gt; to format them again. By default it follows
&lt;span id=&quot;L16&quot; class=&quot;LineNr&quot;&gt;16 &lt;/span&gt;the 79 character limit but it can be changed in the vimrc.
&lt;span id=&quot;L17&quot; class=&quot;LineNr&quot;&gt;17 &lt;/span&gt;
&lt;span id=&quot;L18&quot; class=&quot;LineNr&quot;&gt;18 &lt;/span&gt;It is a command every Vim user should use to simplify writing markup text anywhere.
&lt;/pre&gt;
&lt;/div&gt;</content><author><name></name></author><category term="vim" /><summary type="html">It had been such a pain to format lines when I was writing Latex/Markdown/HTML. Since single line breaks are ignored, we can write all that we have to in a single line or multple lines. Writing in a single line always makes it tough to read later in a text editor. Since sentences are broken in between words and you have to move your eyes all across the screen. And if you want to use multiple lines, it is tough to decide where to break the lines manually. If you follow the 79 character limit, it is again hard to keep track of the characters.</summary></entry><entry><title type="html">Shadow and Bone Trilogy</title><link href="rahul-goel.github.io/books/2021/06/05/shadow-and-bone-trilogy.html" rel="alternate" type="text/html" title="Shadow and Bone Trilogy" /><published>2021-06-05T11:20:29+05:30</published><updated>2021-06-05T11:20:29+05:30</updated><id>rahul-goel.github.io/books/2021/06/05/shadow-and-bone-trilogy</id><content type="html" xml:base="rahul-goel.github.io/books/2021/06/05/shadow-and-bone-trilogy.html">&lt;p&gt;I read The Shadow and Bone Trilogy in a span of a week and a half if I remember
correctly. Overall, I enjoyed the experience. The story is great but it was
slow paced for me. I don’t mind the length of the books but only if they come
packed.&lt;/p&gt;

&lt;p&gt;The story was sparsely laid throughout the three books and it is in the
second book that the most happened compared to others. Maybe that is the reason
that I liked it more than the rest. From what I read somewhere online and
realised, there are multiple plotholes and they are noticeable if one reads
with full attention. The entire series was somewhat of a roller-coaster. Alina
went from being a simple girl to being the saviour of Ravka, from being loved
to being hated, from the being the hunter to being hunted and from being a
gullible girl to being the most powerful Grisha and the entire ride was atleast
enjoyable if not completely thrilling.&lt;/p&gt;

&lt;h2 id=&quot;shadow-and-bone&quot;&gt;Shadow And Bone&lt;/h2&gt;

&lt;p&gt;This was the introductory book to the Grishaverse so a lot of the content was
around making the reader acquainted with the Grishas - what the classes are and
what they do. I still don’t remember though what all the different types of
Grisha are. Firstly, the name itself is Darkling. “Dark”ling. It should have
hinted that he was gonna be the bad guy. But the way he was introduced in the
book on the journey to Os Alta in the beginning made me feel like he was a
great leader and worked for the benefit of his people. It was often emphasized
in the journey that he sat with his people and what not and how he had
described the Palace as the ugliest place on Earth. It hasn’t been written
anywhere but maybe it was all done to gain Alina’s trust. Anyway, I had already
guessed that the letters that Alina was writing to Mal were not reaching him
because Mal seemed a really nice guy not to reply to the letters. Okay so Alina
trains at the Little Palace and makes herself more powerful to destroy the
fold. And then the plot twist comes. The “Dark”ling actuallly belonged to the
dark side. Alina has to run away with Mal to save herself and the lives of
others because the Darkling wants to expand the fold by gaining control over
Alina by using Morozova’s amplifier and expand the fold to rule over the world.
Big Deal. Although I thought that Alina would be able to somehow stop the
Darkling to gain control over her but it turned out to be untrue. The Darkling
is successful in gaining control over her and he destroys some nearby city and
kills people in it. But Alina manages to stop him after that destruction and
runs away with Mal. Rest is left for the second book. Overall, the story was
slow paced but good. Not amazingly, mind-boggling good but good.&lt;/p&gt;

&lt;p&gt;For characters, I liked Genya and the Darkling. Genya seemed really nice. She
helped Alina, had an eye over what happened around the Palace, had contacts and
happily ignored all the taunts she received from other Grisha. The Darkling has
his own history. Even though he is bad, he has his own reasons which seem
justified from the point of view of a sinister mind.&lt;/p&gt;

&lt;p&gt;Mal is alright. I mean he has great tracking and military skills and he fits
into any place easily. Girls gape at him wherever he goes. I find it kinda sad
that he doesn’t have any Grisha powers.&lt;/p&gt;

&lt;p&gt;Alina is just vanilla. Nothing special apart from being the Sun Sumonner. She
was confused about Mal and the Darkling and I hated that. It felt like betrayal
to Mal.&lt;/p&gt;

&lt;h2 id=&quot;siege-and-storm&quot;&gt;Siege and Storm&lt;/h2&gt;

&lt;p&gt;As said before, this is my favourite book in the trilogy. There are two
reasons. First is that I thought this was the most densly packed compared to
others and the second is Nikolai.&lt;/p&gt;

&lt;p&gt;The story and the events were somehow better than the first one but I guess
that is only because Nikolai was present in them. I liked everything about him.
How he sacrificed his royal life and went to learn the art from gunsmiths and
ship-builders, how he treats the people around him, how he treats himself. He
has the brain of a mastermind and his plans always work out. Whatever problem
people are in, he’ll find a way out. And how quick he changes is character
infront of others. It is kind of disturbing that the Nikolai one knows might
not be the one he actually is. He knows the right people to open up to. He
knows when to present himself like the Ravkan Prince, when to lead his fellows
like Sturmhond and when to be the crazy lover. Also he knows when to back off
from Alina and not piss her off.&lt;/p&gt;

&lt;p&gt;The rest of the book is mediocre but better than the first one. The story moves
slowly when it could have been faster.&lt;/p&gt;

&lt;p&gt;By the end of the book, I liked Nikolai, Genya (even though she kind of
betrayed Alina), the Darkling ofcourse, David and a bit of Zoya.&lt;/p&gt;

&lt;p&gt;Alina and Mal are meh. Mal has loads of skills but he could atleast try to be
funny.&lt;/p&gt;

&lt;h2 id=&quot;ruin-and-rising&quot;&gt;Ruin and Rising&lt;/h2&gt;

&lt;p&gt;First of all everything to do with the Apparat did not contribute to the story
much. Maybe Ruby and her gang joining in was the most that Alina could get out
of spending the first few chapters with the Apparat and his worshippers. The
Apparat himself is so boring. I mean instead of getting up everyday and
pretending to worship Alina he could have been of more use throughout the time
but he is so dumb. He himself literally said that he is the rat who survives in
the farm by hiding after the animals are done fighting. After leaving the
Apparat, they go on their journey to find Nikolai and it is Nikolai who finds
them. And saves them. And takes them to his safe place. Then they get attacked
at the safe place and have to run again. Throughout the trilogy, all Alina is
doing is running and travelling if not being at the palace. Anyway, they run
for their lives while Nikolai has turned to become so kind of shadow volcra
with human heart. I honestly did not like this part and how he followed and
contacted Alina while being a volcra. It was unnecessary and super weird.
Anyway, they realise that Mal is the third amplifier and everything starts
making sense to Alina. Although it doesn’t to me. At all. In the final fight,
she kills Mal but he doesn’t die. The blood acts as the amplifier rather than
the bones. It did not make sense to me. And what was the point of bringing him
back to life and her losing her powers? I would have liked if Mal would have
died and she would have gone with Nikolai. That is what Mal would have wanted
and expected after his death. And Nikolai would have gotten a queen that could
rule by his side.&lt;/p&gt;

&lt;p&gt;The ending is what not I expected. But it is what the author wants in her story
so that is what it should be.&lt;/p&gt;

&lt;h2 id=&quot;people-i-loved-in-the-trilogy&quot;&gt;People I loved in the Trilogy&lt;/h2&gt;

&lt;h3 id=&quot;genya&quot;&gt;Genya&lt;/h3&gt;

&lt;p&gt;I loved Genya. She’s described to be the most beautiful person to walk in Ravka
because of her Tailoring abilities as a Grisha. She maintined contacts with the
cooks and other useful people in the Little Palace. She ignored the people
bitching about her. And what he did with the king for the Darkling was pretty
badass. Poisoning her lips and then burning the skin and healing it every
single day. The king deserved to die for his mentality. Even though she did the
Darkling’s deeds, I could not help forgiving her when she came back to the
right side because I am sure she wasn’t doing all of the things willingly. She
and David were great together. Her good nature was shown in the first book
itself when it was indicated that she liked David. And what the Darkling did to
her with his creatures was sad and I felt terrible for her. However since David
really didn’t care about how she looked, I was happy, At the end leading the
Grisha Army with the help of Zoya and David was perfect thing to do.&lt;/p&gt;

&lt;h3 id=&quot;david&quot;&gt;David&lt;/h3&gt;

&lt;p&gt;David was like Henry from the Infernal Devices. All he wanted was to go to his
workshop and spend his day developing new things without bothering anyone and
without being bothered. He was an excellent Fabricator and one of the only ones
that understood Morozova’s works. Even the Darkling himself said that David was
too precious to be lost and would have spared his life had he been caught. He
crafted the first amplifier on the Darkling’s orders and did not have any
choice. He readily gave Alina all the information he had on Morozova’s
Amplifiers. And he did actually like Genya from the start, just did not express it.&lt;/p&gt;

&lt;h3 id=&quot;the-darkling&quot;&gt;The Darkling&lt;/h3&gt;

&lt;p&gt;Let’s look at the things from the Darkling’s perspective. He had a history. He
was Morozova’s grandchild since Baghra was Morozova’s daughter. Baghra had
taught him everything she could to help him survive the world that treated
Grisha as threat because that is how she had seen the world. She had seen
Morozova getting killed by the villagers because he had tried to resurrect his
other daughter. The Darkling had taken the lessons to the heart and he had
grown knowing that the people in the world looked at Grisha as warlocks and
witches who did not deserve to live with humans. So he had decided to make the
world one. Ravka everywhere. A place where all people lived in harmony with
each other and with the Grisha.&lt;/p&gt;

&lt;p&gt;Great taste but terrible execution. The Fold was not the way to do it. The Fold
with it’s volcra had shown what Grisha power can do to the world and it was
definitely not the best way to propose to the world to accept Grisha as their own.
And he had cared for Alina. He wanted to use her power for his own benefits and
he had lied to her to gain her trust and later break it but he had cared for
her nevertheless. And he would have killed anyone who let a scratch on her.&lt;/p&gt;

&lt;p&gt;He had made Ravka one too. He knew that the king was useless. So he had taken
charge and it was his orders that the court obeyed and his advice that the
court looked for. He had taken the responsibilites of a king even before
becoming one just like Nikolai. He was a great leader.&lt;/p&gt;

&lt;p&gt;And at last he had a cool name. Aleksander. Not with an ‘x’ but with ‘ks’.&lt;/p&gt;

&lt;h3 id=&quot;nikolai&quot;&gt;Nikolai&lt;/h3&gt;

&lt;p&gt;Nikolai is my favourite character from the trilogy. He is the smartest and the
funniest guy and the future-king of Ravka. He played the role of Sturmhond
flawlessly and I liked him as Sturmhond too. But when he made the grand reveal
and took up his true identity of Nikolai upon reaching Ravka, I was stunned. I
thought I liked Sturmhond and the real Nikolai would actually be something
different but he turned out to be even more charming. I like how he deals with
the people above him, equal to him and below him. He treats everyone well
within reason and follows his self-invented principles. He always treats his
brother well even when his brother doesn’t. And when he gains the knowledge of
the king’s deeds, he takes the justified decision of having a trial against him
for Genya. Even Alina and Mal had looked up to him and his decisions. He also
always wanted the best for Mal. Sending him away from Alina was the right
thing to do and he took it in his own hands to ensure that.&lt;/p&gt;</content><author><name></name></author><category term="books" /><summary type="html">I read The Shadow and Bone Trilogy in a span of a week and a half if I remember correctly. Overall, I enjoyed the experience. The story is great but it was slow paced for me. I don’t mind the length of the books but only if they come packed.</summary></entry><entry><title type="html">Zathura Saves My Eyes</title><link href="rahul-goel.github.io/linux/2021/06/01/zathura-saves-my-eyes.html" rel="alternate" type="text/html" title="Zathura Saves My Eyes" /><published>2021-06-01T00:00:00+05:30</published><updated>2021-06-01T00:00:00+05:30</updated><id>rahul-goel.github.io/linux/2021/06/01/zathura-saves-my-eyes</id><content type="html" xml:base="rahul-goel.github.io/linux/2021/06/01/zathura-saves-my-eyes.html">&lt;p&gt;Zathura is a document viewer and I use it to view PDFs. Until now, I was using
the default inverted color mode (called recolor in zathura). It basically
flipped black to white and white to black. It was dark mode but the contrast
was so high that it still hurt my eyes. I wanted a dark mode with a dark
greyish background and a pale-brownish white foreground color.&lt;/p&gt;

&lt;p&gt;And it was just one search away. Basically I only have to set the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;recolor-darkcolor&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;recolor-lightcolor&lt;/code&gt; values and done. I used the two
gruvbox colors for the document and changed a the colors of the statusbar,
inputbar and completion bar too to gruvbox. So easy on eyes. Such a huge
relief. It was only one search away. I could have done it before and saved
myself from a lot of strain I guess.&lt;/p&gt;

&lt;p&gt;Anyway here is my zathurrc as of now.&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;set sandbox none
set statusbar-h-padding 0
set statusbar-v-padding 0
set page-padding 1
set selection-clipboard clipboard

set default-bg &quot;#555555&quot;

set recolor-keephue
set recolor-lightcolor &quot;#282828&quot;
set recolor-darkcolor &quot;#ebdbb2&quot;

set statusbar-bg &quot;#282828&quot;
set statusbar-fg &quot;#8ec07c&quot;
set completion-bg &quot;#282828&quot;
set completion-fg &quot;#8ec07c&quot;
set completion-highlight-bg &quot;#add8e6&quot;
set inputbar-bg &quot;#282828&quot;
set inputbar-fg &quot;#8ec07c&quot;

map u scroll half-up
map d scroll half-down
map D toggle_page_mode
map r reload
map R rotate
map K zoom in
map J zoom out
map i recolor
map p print
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name></name></author><category term="linux" /><summary type="html">Zathura is a document viewer and I use it to view PDFs. Until now, I was using the default inverted color mode (called recolor in zathura). It basically flipped black to white and white to black. It was dark mode but the contrast was so high that it still hurt my eyes. I wanted a dark mode with a dark greyish background and a pale-brownish white foreground color.</summary></entry><entry><title type="html">Kill Joy</title><link href="rahul-goel.github.io/books/2021/05/25/killjoy.html" rel="alternate" type="text/html" title="Kill Joy" /><published>2021-05-25T11:20:29+05:30</published><updated>2021-05-25T11:20:29+05:30</updated><id>rahul-goel.github.io/books/2021/05/25/killjoy</id><content type="html" xml:base="rahul-goel.github.io/books/2021/05/25/killjoy.html">&lt;p&gt;This explains a lot. Why Pip took to pursue the Bell Disappearance Case for her project?
So Pip and her gang of friends (6 in total) are celebrating the end of term by playing Kill Joy - a murder mystery game.
Every friend is a character from the story and the story slowly unfolds as the game progresses.
There are clues, witnesses, backstory, motives and what not are presented. Each character defends himself/herself and provides an explanation.
At the end the culprit is revealed.&lt;/p&gt;

&lt;p&gt;But the solution provided by the game-makers is just too simple. It doesn’t account for many finer details in the game.
Pip, on her notepad, has accounted for every detail and proposes a completely different, mind-boggling, out of the earth explanation for the series of events which does infact fit in.
She’s all angry that a series of such complicated events cannot have a simple solution. And this reminds her of the 5 year old events that took place in her town.
The events were complicated but the explanation provided by the police was too simple. That’s the reason she chooses that topic for her Capstone Project.&lt;/p&gt;

&lt;p&gt;It is a short prequel to the book series but amazing none the less. And it explains the things like her decision for the project and her relationship with Jamie.&lt;/p&gt;</content><author><name></name></author><category term="books" /><summary type="html">This explains a lot. Why Pip took to pursue the Bell Disappearance Case for her project? So Pip and her gang of friends (6 in total) are celebrating the end of term by playing Kill Joy - a murder mystery game. Every friend is a character from the story and the story slowly unfolds as the game progresses. There are clues, witnesses, backstory, motives and what not are presented. Each character defends himself/herself and provides an explanation. At the end the culprit is revealed.</summary></entry><entry><title type="html">Good Girl, Bad Blood</title><link href="rahul-goel.github.io/books/2021/05/22/ggbb.html" rel="alternate" type="text/html" title="Good Girl, Bad Blood" /><published>2021-05-22T11:20:29+05:30</published><updated>2021-05-22T11:20:29+05:30</updated><id>rahul-goel.github.io/books/2021/05/22/ggbb</id><content type="html" xml:base="rahul-goel.github.io/books/2021/05/22/ggbb.html">&lt;p&gt;The first book was so good, I was kind of skeptical about the second book since I did not want to ruin the experience from the first one.
I am ashamed that I had such a disgusting thought in my mind.
This is the perfect sequel that could be wrtitten to the first book.&lt;/p&gt;

&lt;p&gt;So Connor’s older brother Jamie goes missing. Well, since he had gone missing before too, I thought Pip taking Connor’s requests seriously
was a bit too much. I kind of felt that she wanted to live up the reputation that she had created of herself a couple of months back, which by the way is not a bad thing.
So anyway, she takes up the case and casts the details on her famous podcast as the second season so that the matter gains more attention.
So Holly had said that she had written the first book as a standalone but later decided to pick up some loose ends from the first one and write over them.
I thought that Jamie going missing was not the perfect thing to take further and I could not have been anymore wrong.&lt;/p&gt;

&lt;p&gt;So our Pip begins (along with Ravi ofcourse) her investigations by interviewing Jamie’s close ones and again begins follow the trail of the previously unknown details.
Because of the reputation she has gained from her previous solve, she gains some admirers and some haters as well.
She dives deeper and deeper into the town’s secrets until she finds Jamie’s location.
And what a turn the story took in the last few chapters. I did not expect such a sudden dark turn.
The ending was sad. I hope whatever happened wouldn’t have happened. I hope he lived the life he wanted to live.&lt;/p&gt;

&lt;p&gt;Throughout the story Pip also realises who she really is. She isn’t the good girl she had been portraying for the last 18 years.
It felt like she had been living in a shell and finally she broke free.&lt;/p&gt;

&lt;p&gt;Anyway, I am gonna have to say that this book took a bit longer to fall into compared to the first part.
But it delivered a thrill equivalent to the first one. And it delivered some sadness too at the end (which the first part didn’t) which still keeps me thinking.
But it’s all a part of the story. I can’t change that.&lt;/p&gt;

&lt;p&gt;Can’t wait to read the prequel and the third part.&lt;/p&gt;</content><author><name></name></author><category term="books" /><summary type="html">The first book was so good, I was kind of skeptical about the second book since I did not want to ruin the experience from the first one. I am ashamed that I had such a disgusting thought in my mind. This is the perfect sequel that could be wrtitten to the first book.</summary></entry><entry><title type="html">A Good Girl’s Guide to Murder</title><link href="rahul-goel.github.io/books/2021/05/17/agggtm.html" rel="alternate" type="text/html" title="A Good Girl’s Guide to Murder" /><published>2021-05-17T11:20:29+05:30</published><updated>2021-05-17T11:20:29+05:30</updated><id>rahul-goel.github.io/books/2021/05/17/agggtm</id><content type="html" xml:base="rahul-goel.github.io/books/2021/05/17/agggtm.html">&lt;p&gt;I have to admit, when I started it I did not anticipate that I’d be up till 3 in the morning finishing the book rather than sleeping. It’s been so long since I’ve been this hooked.&lt;/p&gt;

&lt;p&gt;The way the book is written is really refreshing - the project logs, newspaper clippings, text screenshots, interview transcripts. They give off the investigatory vibe.&lt;/p&gt;

&lt;p&gt;So this girl Piipa Fitz-Amobi decides to look into an infamous closed murder case for her senior school capstone project.
The case is about Andie Bell who was allegedly murdered by Sal Singh.
Pip for her own reasons believes that Sal could not have done it.
But as soon as she even starts scraping the surface, new previously unknown details start turning themselves up.
Details which do not fit at all with the police’s final account of the murder.
The police’s whole story slowly starts revealing itself as a small part of an entire web of events that had been happening around that period.&lt;/p&gt;

&lt;p&gt;Accompanied by Sal Singh’s younger brother Ravi, Pip interviews a whole lot of people related to the Andie and Sal.
Not having the authority and time of an official investigator, she finds it hard to get the correct information out.
She receives threats from unknown source to stop her investigation which puts her and her closed ones in danger.
But that doesn’t stop her. If she has decided to do something, she finds a way.
The mystery reveals itself piece by piece not in order and at the end the entire picture is shown.
And it is not what anyone expected at all.&lt;/p&gt;

&lt;p&gt;She does not have god-level deduction skills like other detectives. Rather, she almost entirely get the pieces by interviewing and reading within the responses and of course by properly documenting all her results.
She has her low moments too. She makes wrong decisions and catches the wrong end of the stick. But that is what makes her much more relatable than any other detective.&lt;/p&gt;

&lt;p&gt;The book left me thinking about the story and it’s outcome for so long. About what happened to Sal. About him not knowing about the background web at all and still being the victim.&lt;/p&gt;

&lt;p&gt;I am glad that this book isn’t a standalone and there is a second part too it. A third part will be released soon and there is a short prequel too.
Can’t wait to read it all. I think I might have a new favourite author.&lt;/p&gt;</content><author><name></name></author><category term="books" /><summary type="html">I have to admit, when I started it I did not anticipate that I’d be up till 3 in the morning finishing the book rather than sleeping. It’s been so long since I’ve been this hooked.</summary></entry><entry><title type="html">Spawning Multiple Terminals in one Directory</title><link href="rahul-goel.github.io/linux/2021/02/02/spawning-terminals.html" rel="alternate" type="text/html" title="Spawning Multiple Terminals in one Directory" /><published>2021-02-02T00:00:00+05:30</published><updated>2021-02-02T00:00:00+05:30</updated><id>rahul-goel.github.io/linux/2021/02/02/spawning-terminals</id><content type="html" xml:base="rahul-goel.github.io/linux/2021/02/02/spawning-terminals.html">&lt;p&gt;It is hardly the case when programming involves editing a single file. On whatever medium to big sized projects that I’ve worked upon, atleast 3 files are needed to be opened at once either to edit or for reference.
Add running docker instances and autorun servers, the number shoots up to 7 to 8.&lt;/p&gt;

&lt;p&gt;When the project directory is located 4 to 5 levels deep from the home directory, one has to open 7 to 8 terminals and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cd&lt;/code&gt; into them one by one. Repeating this several times should indicate that a better way should exist and should be used.&lt;/p&gt;

&lt;p&gt;I wrote a simple shell script and combined it with dmenu, dwm and zsh to open any number of terminals in any directory within 2 seconds.&lt;/p&gt;

&lt;p&gt;Let’s call this script &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;opendir&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;language-zsh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/sh&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Search for non hidden directories further down from home.&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;ST_PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;find ~ &lt;span class=&quot;nt&quot;&gt;-not&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-path&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;*/\.*&apos;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-type&lt;/span&gt; d | dmenu &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-l&lt;/span&gt; 5&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Get the number of terminals to be spawned.&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;num_times&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; | dmenu &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;How many terminals? (Default - 1)&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[[&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-z&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$num_times&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;then
	&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;num_times&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1
&lt;span class=&quot;k&quot;&gt;fi
&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$num_times&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;i&amp;lt;&lt;span class=&quot;nv&quot;&gt;$num_times&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;i++&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;do
	&lt;/span&gt;st &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; zsh &amp;amp;
&lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It uses dmenu to give the user an interface to quickly select the directory. And then enter the number of terminals (default is 1).
It says st which stands for simple terminal (or the suckless terminal as some people call it). If you use any other terminal emulator, you’ll have to replace &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;st&lt;/code&gt; by that and the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-e&lt;/code&gt; flag by your terminal’s execute flag.&lt;/p&gt;

&lt;p&gt;I also needed to add the following to the end of my zshrc.&lt;/p&gt;
&lt;div class=&quot;language-zsh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-z&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ST_PATH&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ST_PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is needed because I couldn’t find a way to pass the path to the directory as an argument. In the first script I am setting the environment variable &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ST_PATH&lt;/code&gt;. In the zshrc, I am checking that if this variable is set the open zsh and change the directory to it. In the other case, ignore it.&lt;/p&gt;

&lt;p&gt;I placed the opendir script in a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$PATH&lt;/code&gt; directory and mapped it to the keybind &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Mod + Shift + Return&lt;/code&gt;. It is convenient since the keybind to open up a regular terminal is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Mod + Return&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id=&quot;further-improvements&quot;&gt;Further Improvements&lt;/h3&gt;
&lt;p&gt;The first time &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;find&lt;/code&gt; command is run after startup, it takes up a lot of time and then it is almost instant. I did not look into it, but the reason behind this seems to be caching. Instead of waiting for 15 to 20 seconds, to run for the first time, we can make it refer to a cached list.&lt;/p&gt;

&lt;p&gt;We can maintain a file which contains the list of the directories that find spits out every time it is run. When spawning a new directory, we can make dmenu search from this list. And to maintain/refresh the cached list we can run a cronjob to update it every 1 hour or so.&lt;/p&gt;

&lt;p&gt;The cronjob will look like -&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;* 1 * * * opendir_cron
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The script opendir_cron is -&lt;/p&gt;
&lt;div class=&quot;language-zsh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/sh&lt;/span&gt;
find ~ &lt;span class=&quot;nt&quot;&gt;-not&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-path&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;*/\.*&apos;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-type&lt;/span&gt; d | &lt;span class=&quot;nv&quot;&gt;$HOME&lt;/span&gt;/.cache/opendir_reference
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And the updated &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;opendir&lt;/code&gt; script is -&lt;/p&gt;
&lt;div class=&quot;language-zsh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/sh&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Search for non hidden directories further down from home.&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;ST_PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$HOME&lt;/span&gt;/.cache/opendir_reference | dmenu &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-l&lt;/span&gt; 5&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Get the number of terminals to be spawned.&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;num_times&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; | dmenu &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;How many terminals? (Default - 1)&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[[&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-z&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$num_times&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;then
	&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;num_times&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1
&lt;span class=&quot;k&quot;&gt;fi
&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$num_times&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;i&amp;lt;&lt;span class=&quot;nv&quot;&gt;$num_times&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;i++&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;do
	&lt;/span&gt;st &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; zsh &amp;amp;
&lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name></name></author><category term="linux" /><summary type="html">It is hardly the case when programming involves editing a single file. On whatever medium to big sized projects that I’ve worked upon, atleast 3 files are needed to be opened at once either to edit or for reference. Add running docker instances and autorun servers, the number shoots up to 7 to 8.</summary></entry></feed>